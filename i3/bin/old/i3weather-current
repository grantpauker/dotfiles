#!/usr/bin/env bash
contains(){
	[[ $1 = *"$2"* ]]
}

loc="CA/La_jolla"
apikey="ce4f08aa7cc2cea5"

url="http://api.wunderground.com/api/$apikey/conditions/q/$loc.json"

resp=$(wget -qO- $url)

cond=$(echo $resp | jq -r '.current_observation | .icon')
temp=$(echo $resp | jq -r '.current_observation | .temp_f')

if contains $cond cloud; then 
  icon=""
	color="#EEFFFF"
elif contains $cond rain; then
  icon=""
	color="#80CBC4"
elif contains $cond snow; then
  icon=""
	color="#80CBC4"
else
	icon=""
	color="#FFCB6B"
fi
color=#80CBC4
printf "$icon $temp°\n\n$color"
