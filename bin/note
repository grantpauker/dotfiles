#!/usr/bin/env bash
get-file(){
	date=$(date '+%m-%d-%y')
	echo "$date-$(echo $1 | tr '[:upper:]' '[:lower:]' | sed 's/ /-/g')"
}
new-note(){
	date=$(date '+%m-%d-%y')
	file="$(get-file "$1").md"
	echo "$1 - $date"  >> "$file"
	echo "===" >> "$file"
	echo "  * " >> "$file"
	nvim "$file"
}
compile-note(){
	[[ ! -d compiled ]] && mkdir compiled
	pandoc "$1" -V geometry:"top=2cm, bottom=2cm, left=5cm, right=1cm" -f markdown -o "${1%.*}.pdf"
	mv "${1%.*}.pdf" compiled
}
open-note(){
	nvim $(get-file "$1").md
}
[[ -f "$(get-file "$1").md" ]] && open-note "$1" || new-note "$1"
#case "$1" in
#-n)
	#[[ -f "$(get-file "$2").md" ]] && open-note "$2" || new-note "$2" ;;
#-c)
#for f in "${@:2}"; do
	#compile-note "$f"
#done ;;
#esac
