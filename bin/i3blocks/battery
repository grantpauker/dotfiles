#!/usr/bin/env bash
source ~/.theme/shell
status=$(acpi -b | awk '{ gsub(",", "", $3); print $3 }')
percent=$(acpi -b | awk '{ gsub("%,", "", $4); print $4 }')
BACKGROUND="$base00"
if [[ "$percent" -le "5" ]]; then
	COLOR="$base00"
	BACKGROUND="$base08"
	ICON=""
elif [[ "$percent" -lt "20" ]]; then
	COLOR="$base08"
	ICON=""
elif [[ "$percent" -lt "50" ]]; then
	COLOR="$base09"
	ICON=""
elif [[ "$percent" -lt "85" ]]; then
	COLOR="$base0A"
	ICON=""
else 
	COLOR="$base0B"
	ICON=""
fi
if [[ "$status" == "Charging" ]]; then
	ICON=""
fi
printf "<span background='$BACKGROUND' foreground='$COLOR'>$ICON $percent%%</span>"
