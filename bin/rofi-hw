#!/usr/bin/bash
assignment="$((grep -v '^#' hw; grep '^#' ~/hw) | rofi -dmenu -i -p assignment)"
[[ "$assignment" == "" ]] && exit
if grep -oq "$assignment" ~/hw; then
	if [[ "${assignment:0:1}" == "#" ]]; then
		sed -i "s/^#\(${assignment:1}\)\$/\1/g" ~/hw
		notify-send "removed '${assignment:1}' from completed" -a hw
	else
		sed -i "s/^\($assignment\)\$/#\1/g" ~/hw
		notify-send "completed '$assignment'" -a hw
	fi
else
	echo $assignment >> ~/hw
	notify-send "added '$assignment'" -a hw
fi

