#!/usr/bin/env bash
# give either a url to shorten or a file to upload to 0x0
URL="https://0x0.st"
regex='https\?://[a-zA-Z0-9./?=_-]*'

if grep "$regex" <<< "$1" &>> /dev/null; then
	curl -F "shorten=$1" "$URL" | tee >(xclip -sel c)
elif [ -f "$1" ]; then
	curl -F "file=@$1" "$URL" | tee >(xclip -sel c)
else
	echo "Not a valid file or url: $1"
fi
